---
title: "Replit Agent 触ってみた4"
date: "2025-01-26 19:36:42 +0900"
last_modified_at: "2025-01-26 19:36:42 +0900"
---

# Replit Agent 触ってみた4
### 1. Replit Agent によるマークダウンサポート実装の詳細

今回は マークダウンサポートを実装する。まず、`react-markdown` と `remark-gfm` がプロジェクトにインストールされた。

![スクリーンショット 2025-01-25 9.54.17]( {{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 9.54.17.png' | relative_url  }})

Message 欄にこのようにマークダウンを入力する。

![スクリーンショット 2025-01-25 10.13.57]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.13.57.png' | relative_url  }})

プレビューもできる

![スクリーンショット 2025-01-25 10.14.51]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.14.51.png' | relative_url  }})

投稿した後のメッセージもこのようにマークダウンがレンダリングされている

![スクリーンショット 2025-01-25 10.23.32]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.23.32.png' | relative_url  }})

### 2. Replit Agent によるアプリケーションクラッシュ問題のデバッグ

と、ここまでは順調に進んでいたが、急にアプリケーションが表示されなくなってしまった。

サーバーは起動しているようなのだが、どうもアプリにアクセスできない。ポート5000番が競合している可能性があります、とのこと。

```
Error: listen EADDRINUSE: address already in use 0.0.0.0:5000
```

そこで修正もお願いすると `killall` コマンドを使ってプロセスを停止しようとしているのだが、そもそも `killall` コマンドが見つからない。

![スクリーンショット 2025-01-25 10.29.39]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.29.39.png' | relative_url  }})

しょうがないのでアシスタントのほうに聞いてみた。 `pkill -f "tsx server/index.ts"` でプロセスを停止するとのこと。それをシェルから実行した。

![スクリーンショット 2025-01-25 10.31.41]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.31.41.png' | relative_url  }})

その後、Replit Agent はエラーログを分析し、**TypeScript のコンパイルエラー**や**トップレベルの await** が原因であることを示唆し、実際に `tailwind.config.ts` や `vite.config.ts` などの設定ファイルに問題がないかを確認したり、`db/index.ts` や `server/routes.ts` にログ出力処理を追加したりしていた。さらにデータベース接続の初期プロセスでの構文エラーも修正してくれた。

![スクリーンショット 2025-01-25 11.21.00]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 11.21.00.png' | relative_url  }})

また、ポート設定を環境変数で明示的に指定するように変更し、問題を解決しようと試みていた。

データベース接続自体は成功していたものの、テーブルが作成されていない可能性も考慮し、Agent が自律的に調査を行った。この過程で、Replit 環境の動的なホスト名に対応するために、`process.env.REPL_SLUG` と `process.env.REPL_ID` を使用してホスト名を構築することが提案された。

![スクリーンショット 2025-01-25 11.41.39]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 11.41.39.png' | relative_url  }})

少々めんどくさいが、最後に正常動作していた状態に戻すことにした。checkpoint を探し、rollback ボタンを押して以前の状態に戻した（チャットをさかのぼらなければならないのが面倒だったが）。

ロールバックを試みるも、今度はシステムの反応が遅いとのこと。「再試行させていただきます」と言っていたものの、AI が勝手にやってくれるわけではなく、結局自分でロールバックした。

![スクリーンショット 2025-01-25 13.14.54]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 13.14.54.png' | relative_url  }})

しかし、これらの試行錯誤にもかかわらず、アプリケーションのクラッシュ問題は解決に至らなかった。Replit の環境そのものに起因するのではないかと思っている。

### 3. Replit Agent の能力と限界
#### Replit Agent の能力

*   **問題解決への意欲と具体的な行動:** Replit Agent は、与えられたタスクに対して単に指示通りに実行するだけでなく、積極的に追加機能を提案して問題解決のために様々なアプローチを試みる意欲を示した。例えば、マークダウンサポートの実装時に、絵文字リアクションや返信スレッドといった追加機能まで提案しています。また、アプリケーションのクラッシュ問題が発生した際には、エラーログの分析、設定ファイルの確認、コード修正、サーバー再起動など、様々な解決策を根気強く試行していたのが強く印象に残った。
*   **人間のような思考プロセス:** Replit Agent は、まるで人間がデバッグを行うように、仮説を立て、検証し、問題の切り分けを試みるなど、段階的に問題解決を進めようとした。
*  **高いコミュニケーション能力:** Replit Agent は、質問、提案、確認、状況報告 など、様々な場面で丁寧なコミュニケーションを心がけているように感じた。不明な点があれば、曖昧な表現を使わずに具体的な質問で確認してるし、提案をする際も、理由やメリットを丁寧に説明してくれる。状況が変化した場合や作業が完了した場合など、適切なタイミングで状況報告も行ってくれた。例えば、「エラーログを確認しましたが、原因を特定できませんでした。他に確認すべき点はありますでしょうか？」 と質問したり、「設定ファイルの修正が完了しました。アプリケーションを再起動して、動作確認をお願いします。」 と状況報告を行っていた。

#### Replit Agent の限界

*  **人間の知識や経験、直感に及ばない部分:** AIアシスタントは、過去のデータやパターンに基づいて問題解決を試みるが、人間のような長年の経験や、そこから培われる直感的な判断力には及ばない。アプリケーションクラッシュ問題のデバッグにおいても、経験豊富なプログラマーであれば、エラーログを見ただけで、過去の類似事例から問題の根本原因を直感的に推測し、効率的に原因を特定できた可能性がある。AIアシスタントは、網羅的な情報収集や分析は得意ですが、複雑な問題においては、人間の直感的な問題解決能力が依然として重要であることを認識する必要がある。

### 4. Replit Agent の活用シーン

Replit Agent は、特定の状況下で非常に役立ちますが、一方で限界もある。以下に、Replit Agent が役立つ状況と、限界がある状況について詳しく説明します。

#### Replit Agent が役立つ状況

*   **初期のセットアップ:** プロジェクトの初期設定や環境構築は、Replit Agent が得意とする分野です。また、Vite や TypeScript、Drizzle などの設定ファイルの初期設定も、Replit Agent が勝手に修正を進めてくれるのがとても楽だった。
*   **アイデア出し:** Replit Agent は、問題解決のアプローチや、コードの改善案など、様々なアイデア出しの場面で役立ちます。例えば、「〇〇機能を実装するにはどうすれば良いですか？」といった質問に対して、複数の実現方法や、関連する技術要素、参考になるドキュメントなどを提示してくれます。**思考の壁打ち相手** として活用することで、**発想の幅を広げる** ことができる。
  * そもそも Agent のほうから「このような機能はどうでしょうか？」と提案してくれる。

#### Replit Agent に限界がある状況

*   **複雑なデバッグ:** アプリケーションがクラッシュするような 複雑な問題 や、 複数の要因が複合的に絡み合っている問題 のデバッグは、Replit Agent にとって 依然として困難 です。ログやコードを分析する能力は高いものの、 問題の根本原因を特定 し、 効果的な解決策 を導き出すには、 人間の経験や知識 が不可欠となります。特に、今回のアプリケーションクラッシュ問題のように、 エラーメッセージが曖昧 で、 原因が特定しにくい 場合、Replit Agent は解決に時間を要する傾向があります。
*   **高度な設計:**  複雑なシステム全体の設計 や、 アーキテクチャ設計 、 パフォーマンス最適化 など、高度な設計が求められる場面では、Replit Agent の能力は 限定的 です。Replit Agent は、既存のコードパターンや、一般的な設計原則に基づいて提案を行うことはできますが、 プロジェクト固有の要件 や、 非定型な設計 に対応することは難しい場合があります。創造的な設計 や、 革新的なアイデア を必要とする場面では、人間の 専門知識 と 創造性 が重要となります。
*   **環境要因が絡む問題:**  環境設定 や 依存関係 に起因する問題、 再現性の低いバグ など、コードやログから直接的に原因を特定できない問題は、Replit Agent が最も苦手とする分野です。Replit 環境特有の問題や、外部APIとの連携部分で発生する問題など、 環境に依存する問題 に対しては、Replit Agent は有効な解決策を提示することが難しい場合があります。このような問題に対しては、 人間の経験や環境に関する深い知識が必要となります。
