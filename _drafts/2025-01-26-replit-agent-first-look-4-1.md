---
title: "Replit Agent 触ってみた4"
date: "2025-01-26 19:36:42 +0900"
last_modified_at: "2025-01-26 19:36:42 +0900"
---

# Replit Agent 触ってみた4
### 1. Replit Agent によるマークダウンサポート実装の詳細

Replit Agent を用いて、Web アプリケーションにマークダウンサポートを実装する過程を詳細に見ていきましょう。まず、Replit Agent は、マークダウンを処理するためのライブラリとして `react-markdown` と `remark-gfm` を提案し、プロジェクトにインストールしました。


![スクリーンショット 2025-01-25 9.54.17]( {{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 9.54.17.png' | relative_url  }})

Message 欄にこのようにマークダウンを入力する。

![スクリーンショット 2025-01-25 10.13.57]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.13.57.png' | relative_url  }})

プレビューもできる

![スクリーンショット 2025-01-25 10.14.51]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.14.51.png' | relative_url  }})

投稿した後のメッセージもこのようにマークダウンがレンダリングされている

![スクリーンショット 2025-01-25 10.23.32]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.23.32.png' | relative_url  }})

### 2. Replit Agent によるアプリケーションクラッシュ問題のデバッグ

と、ここまでは順調に進んでいたが、急にアプリケーションが表示されなくなってしまった。

ポート5000番が競合している可能性があるので、 `killall` コマンドを使ってプロセスを停止しようとしているのだが、そもそも `killall` コマンドが見つからない。

![スクリーンショット 2025-01-25 10.29.39]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.29.39.png' | relative_url  }})

しょうがないのでアシスタントのほうに聞いてみた。 `pkill -f "tsx server/index.ts"` でプロセスを停止するとのこと。それをシェルから実行した

![スクリーンショット 2025-01-25 10.31.41]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 10.31.41.png' | relative_url  }})


Replit Agent は、アプリケーションが起動時にクラッシュするという問題に対して、以下のようなデバッグプロセスを行った。

その後、Replit Agent はエラーログを分析し、**TypeScript のコンパイルエラー**や**トップレベルの await** が原因であることを特定しました。以下は、エラーログの例です。

```
TypeError: Cannot set properties of undefined (setting 'status')
```
```
Error: listen EADDRINUSE: address already in use 0.0.0.0:5000
```

Replit Agent は、これらのエラーメッセージに基づいて、`tailwind.config.ts` や `vite.config.ts` などの設定ファイルに問題がないかを確認し、`db/index.ts` や `server/routes.ts` にログ出力処理を追加した。さらにデータベース接続の初期プロセスでの構文エラーも修正してくれた

![スクリーンショット 2025-01-25 11.21.00]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 11.21.00.png' | relative_url  }})

また、ポート設定を環境変数で明示的に指定するように変更し、問題を解決しようと試みました.

データベース接続自体は成功していたものの、テーブルが作成されていない可能性も考慮し、調査を行いました。Replit Agent は、この過程で、Replit 環境の動的なホスト名に対応するために、`process.env.REPL_SLUG` と `process.env.REPL_ID` を使用してホスト名を構築することを提案しました。

![スクリーンショット 2025-01-25 11.41.39]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 11.41.39.png' | relative_url  }})

さらに、問題を切り分けるために、**最小構成での再構築**を試みました。

少々めんどくさいが、最後に正常動作していた状態に戻すことにした。checkpoint を探し、rollback ボタンを押して以前の状態に戻した（チャットをさかのぼらなければならないのが面倒だったが）

ロールバックを試みるも、今度はシステムの反応が遅いとのこと。「再試行させてください」と言ったものの、AI が勝手にやってくれるわけではなく、結局自分でロールバックした。

![スクリーンショット 2025-01-25 13.14.54]({{ '/assets/images/2025-01-26-replit-agent-first-look-4/スクリーンショット 2025-01-25 13.14.54.png' | relative_url  }})

しかし、これらの試行錯誤にもかかわらず、**アプリケーションのクラッシュ問題は解決に至りませんでした**。最終的に、Replit Agent は、プロジェクトの再初期化や、以前の正常に動作していた状態へのロールバックを提案しました が、根本的な解決には至りませんでした 。

### 3. Replit Agent の能力と限界 (詳細版)

Replit Agent の検証を通じて、その能力と限界がより明確になりました。以下に詳細を記述します。

#### Replit Agent の能力

*   **問題解決への意欲と具体的な行動:** Replit Agent は、与えられたタスクに対して単に指示通りに実行するだけでなく、**積極的に追加機能を提案** し、問題解決のために**様々なアプローチを試みる意欲**を示しました。例えば、マークダウンサポートの実装時に、絵文字リアクションや返信スレッドといった追加機能まで提案しています。また、アプリケーションのクラッシュ問題が発生した際には、エラーログの分析、設定ファイルの確認、コード修正、サーバー再起動など、**様々な解決策を根気強く試行** しました。このことから、Replit Agent は単なるタスク実行ツールではなく、**問題解決に向けて積極的に取り組む姿勢** が見て取れます.
*   **人間のような思考プロセス:** Replit Agent は、まるで人間がデバッグを行うように、**仮説を立て、検証し、問題の切り分けを試みる** など、段階的に問題解決を進めようとしました。エラーログの内容から原因を推測したり、設定ファイルに問題がないか確認したり、コードの修正を提案したりと、**根拠に基づいたアプローチ** を試みていました。例えば、エラーメッセージからデータベース接続に問題があるかもしれないと推測し、設定ファイルの確認を提案したり、問題がバックエンドにあるのかフロントエンドにあるのかを切り分けるために、APIリクエストを試すことを提案しています。
*  **高いコミュニケーション能力:** Replit Agent は、**質問、提案、確認、状況報告** など、様々な場面で**丁寧なコミュニケーション** を心がけているように感じられました。不明な点があれば、曖昧な表現を使わずに具体的な質問で確認してくれますし、提案をする際も、理由やメリットを丁寧に説明してくれます。状況が変化した場合や、作業が完了した場合など、適切なタイミングで状況報告を行ってくれるため、安心して作業を進めることができました。例えば、「〇〇の設定を変更するという理解でよろしいでしょうか？変更内容に間違いがないか、念のため確認させてください。」 のように、変更内容の確認をしたり、「エラーログを確認しましたが、原因を特定できませんでした。他に確認すべき点はありますでしょうか？」 と質問したり、「設定ファイルの修正が完了しました。アプリケーションを再起動して、動作確認をお願いします。」 と状況報告を行っています。
*   **反復作業の効率化:** 設定ファイルの修正や、コードの書き換えなど、人間が手作業で行うと時間と手間がかかる**反復的な作業を、Replit Agent は迅速かつ正確に実行** しました。例えば、複数のファイルにわたる設定項目の一括変更や、コードのリファクタリングなどを依頼した際、Replit Agent は指示通りに正確に作業をこなし、大幅な時間短縮に貢献しました。
*   **プログラミング知識のサポート:** Replit Agent は、プログラミングに関する**幅広い知識** を持っており、依存関係やプラグインに関する情報提供、コードの書き方に関するアドバイス、エラーメッセージの意味解説など、様々な形でプログラミング学習をサポートしました。

#### Replit Agent の限界

*   **複雑な問題への対応の限界:** アプリケーションクラッシュのような**根本原因が特定しにくい複雑な問題** に対して、Replit Agent は最終的な解決に至ることができませんでした。Replit Agent は、エラーログの分析、設定ファイルの確認、コード修正など、様々な解決策を提案・実行しましたが、クラッシュの原因を特定できず、問題解決に至りませんでした。特に、**複数の要因が複合的に絡み合っているような問題** に対しては、Replit Agent の能力には限界があると感じられました。
*   **環境要因の特定:** Replit 環境は、多くのライブラリやツールがプリインストールされている一方で、**バージョン管理が複雑** であったり、**ローカル環境との差異** が生じやすい側面があります。Replit Agent は、環境特有の問題や、依存関係が複雑に絡み合った場合に、**根本原因を特定することが難しい場合** があります。
*  **人間の知識や経験、直感に及ばない部分:** AIアシスタントは、過去のデータやパターンに基づいて問題解決を試みますが、**人間のような長年の経験や、そこから培われる直感的な判断力には及びません**。アプリケーションクラッシュ問題のデバッグにおいても、経験豊富なプログラマーであれば、エラーログを見ただけで、過去の類似事例から問題の根本原因を直感的に推測し、効率的に原因を特定できた可能性があります。AIアシスタントは、網羅的な情報収集や分析は得意ですが、複雑な問題においては、**人間の直感的な問題解決能力が依然として重要** であることを認識する必要があります。

### 4. Replit Agent の活用シーン

Replit Agent は、特定の状況下で非常に役立ちますが、一方で限界もあります。以下に、Replit Agent が役立つ状況と、限界がある状況について詳しく説明します。

#### Replit Agent が役立つ状況

*   **初期のセットアップ:** プロジェクトの初期設定や環境構築は、Replit Agent が得意とする分野です。また、Vite や TypeScript、Drizzle などの設定ファイルの初期設定も、Replit Agent が勝手に修正を進めてくれるのがとても楽だった。
*   **アイデア出し:** Replit Agent は、問題解決のアプローチや、コードの改善案など、様々なアイデア出しの場面で役立ちます。例えば、「〇〇機能を実装するにはどうすれば良いですか？」といった質問に対して、複数の実現方法や、関連する技術要素、参考になるドキュメントなどを提示してくれます。**思考の壁打ち相手** として活用することで、**発想の幅を広げる** ことができます。
  * そもそも Agent のほうから「このような機能はどうでしょうか？」と提案してくれる。

#### Replit Agent に限界がある状況

*   **複雑なデバッグ:** アプリケーションがクラッシュするような **複雑な問題** や、 **複数の要因が複合的に絡み合っている問題** のデバッグは、Replit Agent にとって **依然として困難** です。ログやコードを分析する能力は高いものの、 **問題の根本原因を特定** し、 **効果的な解決策** を導き出すには、 **人間の経験や知識** が不可欠となります。特に、今回のアプリケーションクラッシュ問題のように、 **エラーメッセージが曖昧** で、 **原因が特定しにくい** 場合、Replit Agent は解決に時間を要する傾向があります。
*   **高度な設計:**  **複雑なシステム全体の設計** や、 **アーキテクチャ設計** 、 **パフォーマンス最適化** など、高度な設計が求められる場面では、Replit Agent の能力は **限定的** です。Replit Agent は、既存のコードパターンや、一般的な設計原則に基づいて提案を行うことはできますが、 **プロジェクト固有の要件** や、 **非定型な設計** に対応することは難しい場合があります。**創造的な設計** や、 **革新的なアイデア** を必要とする場面では、人間の **専門知識** と **創造性** が重要となります。
*   **環境要因が絡む問題:**  **環境設定** や **依存関係** に起因する問題、 **再現性の低いバグ** など、コードやログから直接的に原因を特定できない問題は、Replit Agent が最も苦手とする分野です。Replit 環境特有の問題や、外部APIとの連携部分で発生する問題など、 **環境に依存する問題** に対しては、Replit Agent は有効な解決策を提示することが難しい場合があります。このような問題に対しては、 **人間の経験** や **環境に関する深い知識** が必要となります。

### 5. 今後の Replit Agent や AI コーディングアシスタントへの期待

Replit Agent をはじめとするAIコーディングアシスタントには、今後の進化に大きな期待が寄せられています。ここでは、具体的な期待と、AIコーディングアシスタントが将来的にどのように発展していくべきかについて考察します。

#### 具体的な期待

*   **デバッグ能力の向上：** 現状のReplit Agentは、比較的単純なエラーや明確なエラーメッセージに対しては有効ですが、**複雑なロジックエラー**や、**複数の要因が絡み合う**ことで発生するエラー、**パフォーマンスボトルネック**の特定など、高度なデバッグは依然として人間の手を必要とします。今後は、より**複雑な問題の根本原因を特定**し、**効果的な解決策**を提示できるようになることが期待されます。例えば、**スタックトレース**や**ログ**をより深く分析し、**エラー発生箇所**を特定するだけでなく、**エラーの原因となるコードの潜在的な問題点**を指摘してくれるようになると、デバッグ作業が大幅に効率化されるでしょう.
*   **より複雑な問題解決：** **環境設定**や**依存関係**に起因する問題、**再現性の低いバグ**など、**環境要因**が絡む問題は、現状のReplit Agentが苦手とする分野です。また、**システム全体のアーキテクチャ設計**や**パフォーマンス最適化**など、**高度な設計**に関するサポートも限定的です。今後は、**環境要因を考慮した問題解決**や、**高度な設計に関する専門的な知識**を活用した**的確なアドバイス**ができるようになることを期待します。例えば、**Replit環境**に関する**深い知識**を持ち、**環境設定のベストプラクティス**を提案したり、**プロジェクトの規模や要件**に応じた**最適なアーキテクチャ**を提案してくれるようになると、より安心してReplit Agentを活用できるようになるでしょう.
*   **学習能力の向上：** AIコーディングアシスタントの**最大の強み**は、**学習能力**です。過去の**ユーザーとの対話**や**コード生成の成功例**、**失敗例**を**学習**し、**継続的に**能力を向上させていくことを期待します。例えば、**ユーザーからのフィードバック**を**積極的に**取り入れ、**提案の精度**を高めたり、**新しい技術やライブラリ**を**常に学習**し、**最新の情報**に基づいた**アドバイス**を提供できるようになると、**常に**最新の**技術トレンド**に対応できる**頼れる**アシスタントとして、**長期的に**活躍してくれるでしょう.

### 6. AIコーディングアシスタントと人間のプログラマーの理想的な関係性

AIコーディングアシスタントの進化に伴い、人間のプログラマーとの関係性が重要なテーマとなります。ここでは、AIと人間がどのように共存し、協力していくべきかについて考察します。

#### 共存と協力

*   **AIアシスタントは人間の能力を拡張するツール:** AIコーディングアシスタントは、**コード生成**や**エラーチェック**、**ドキュメント作成**など、**反復的**で**時間のかかる**作業を**自動化**し、人間のプログラマーの**生産性**を**大幅に向上**させます。また、**新しい技術**や**ライブラリ**の**学習**を**サポート**したり、**複雑なコード**の**理解**を**助ける**など、**知識**や**スキル**の**向上**を支援する**強力なツール**となります。例えば、**Replit Agent**は、**リアルタイム**で**コード補完**や**エラーの指摘**を行うことで、**コーディングのスピード**を上げ、**ミス**を**減らす**ことができます。また、**質問応答機能**を活用することで、**ドキュメント**を**検索**したり、**専門家**に**質問**する**手間**を省き、**学習効率**を高めることができます。

#### 理想的な関係性

* AIアシスタントと人間が互いに補完し合い、より良いソフトウェア開発を実現する:AIコーディングアシスタントは、完璧な万能ツールではありません。得意なこと、苦手なことがあり、人間の指示や判断が不可欠です。一方、人間もまた、ミスを犯したり、知識やスキルに限界があります。AIアシスタントと人間が、それぞれの強みを活かし、弱みを補完し合うことで、単独では成し遂げられない、より高度で洗練されたソフトウェア開発を実現することができます。例えば、AIアシスタントがコードの品質や効率性を向上させ、人間が創造性や倫理観を発揮することで、技術的にも倫理的にも優れたソフトウェアを開発することができるでしょう。
* AIアシスタントの進化が、プログラマーの働き方や役割をどのように変えるか？: プログラマーはより上流工程や創造的なタスクにシフトしていくでしょう。例えば、要件定義や設計、プロジェクトマネジメント、チームのコミュニケーションなど、人間ならではの能力がより重要になります。また、AIアシスタントを使いこなすための新しいスキルも求められるようになります。例えば、AIに適切な指示を与える能力、AIの提案を評価し判断する能力、AIと協調して開発を進める能力などが、今後のプログラマーに求められる重要なスキルとなるでしょう。
